{% extends "base.html" %}
{% block content %}
<h1>Car Maintenance History</h1>

<div class="records-container">
    {% for r in records %}
    <div class="record-card">
        <p><strong>Date:</strong> {{ r.date }}</p>
        <p><strong>Mileage:</strong> {{ r.mileage }}</p>

        <p><strong>Services:</strong></p>
        <ul>
            {% for s in r.service_list() %}
                <li>{{ s }}</li>
            {% endfor %}
        </ul>

        <p><strong>Price:</strong> ${{ "%.2f"|format(r.price) }}</p>

        <form class="delete-form" method="POST" action="{{ url_for('car.delete_record', record_id=r.id) }}">
            <button type="submit" class="delete-btn">Delete</button>
        </form>
    </div>
    {% else %}
    <p>No records yet.</p>
    {% endfor %}
</div>

<br>
<a class="btn" href="{{ url_for('car.add_record') }}">Add New Record</a>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('car.static', filename='js/car.js') }}"></script>
{% endblock %}
